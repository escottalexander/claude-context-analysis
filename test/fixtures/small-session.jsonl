{"type":"file-history-snapshot","messageId":"abc","snapshot":{"messageId":"abc","trackedFileBackups":{},"timestamp":"2026-01-01T00:00:00.000Z"},"isSnapshotUpdate":false}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","type":"user","message":{"role":"user","content":"Hello"},"uuid":"u1","timestamp":"2026-01-01T00:00:01.000Z"}
{"parentUuid":"u1","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","message":{"model":"claude-opus-4-5-20251101","id":"msg_1","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Let me help","signature":"sig"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":100,"cache_creation_input_tokens":500,"cache_read_input_tokens":200,"output_tokens":10}},"requestId":"req_1","type":"assistant","uuid":"a1","timestamp":"2026-01-01T00:00:02.000Z"}
{"parentUuid":"a1","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","message":{"model":"claude-opus-4-5-20251101","id":"msg_1","type":"message","role":"assistant","content":[{"type":"text","text":"Hi there!"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":100,"cache_creation_input_tokens":500,"cache_read_input_tokens":200,"output_tokens":50}},"requestId":"req_1","type":"assistant","uuid":"a2","timestamp":"2026-01-01T00:00:03.000Z"}
{"parentUuid":"a2","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","message":{"model":"claude-opus-4-5-20251101","id":"msg_2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"tool_1","name":"Read","input":{"file_path":"/tmp/test.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":150,"cache_creation_input_tokens":0,"cache_read_input_tokens":700,"output_tokens":30}},"requestId":"req_2","type":"assistant","uuid":"a3","timestamp":"2026-01-01T00:00:04.000Z"}
{"parentUuid":"a3","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","type":"user","message":{"role":"user","content":[{"tool_use_id":"tool_1","type":"tool_result","content":"file contents here","is_error":false}]},"uuid":"u2","timestamp":"2026-01-01T00:00:05.000Z","toolUseResult":{"stdout":"file contents here","stderr":"","interrupted":false,"isImage":false},"sourceToolAssistantUUID":"a3"}
{"parentUuid":"u2","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","message":{"model":"claude-opus-4-5-20251101","id":"msg_3","type":"message","role":"assistant","content":[{"type":"tool_use","id":"tool_2","name":"Edit","input":{"file_path":"/tmp/test.ts","old_string":"foo","new_string":"bar"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":200,"cache_creation_input_tokens":0,"cache_read_input_tokens":800,"output_tokens":40}},"requestId":"req_3","type":"assistant","uuid":"a4","timestamp":"2026-01-01T00:00:06.000Z"}
{"parentUuid":"a4","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","type":"user","message":{"role":"user","content":[{"tool_use_id":"tool_2","type":"tool_result","content":"edited successfully","is_error":false}]},"uuid":"u3","timestamp":"2026-01-01T00:00:07.000Z","toolUseResult":{"stdout":"edited successfully","stderr":"","interrupted":false,"isImage":false},"sourceToolAssistantUUID":"a4"}
{"parentUuid":"u3","isSidechain":false,"userType":"external","cwd":"/tmp","sessionId":"test-session","version":"2.1.0","message":{"model":"claude-opus-4-5-20251101","id":"msg_4","type":"message","role":"assistant","content":[{"type":"text","text":"Done editing the file."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":250,"cache_creation_input_tokens":0,"cache_read_input_tokens":900,"output_tokens":20}},"requestId":"req_4","type":"assistant","uuid":"a5","timestamp":"2026-01-01T00:00:08.000Z"}
